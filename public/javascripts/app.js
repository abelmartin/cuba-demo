// Generated by CoffeeScript 1.3.3
(function() {

  $(function() {
    window.HT = Handlebars.compile($('#htItem').html());
    return $("#ProcessSearch").submit(function(e) {
      var form_data;
      e.preventDefault();
      $("#SearchResponseLoading img").show();
      form_data = {
        Instrument: $('#InstrumentName').val(),
        MinPrice: $('#MinPrice').val(),
        MaxPrice: $('#MaxPrice').val()
      };
      $.ajax({
        type: "POST",
        data: form_data,
        dataType: "json",
        url: "/search",
        success: function(resp) {
          window.RSP = resp;
          $("#SearchResponseLoading img").fadeOut();
          return $("#SearchResponse").html(HT(resp));
        },
        error: function(resp) {
          $("#SearchResponseLoading img").fadeOut();
          return $("#SearchResponse").html("Something Blew The Hell Up!");
        }
      });
      return null;
    });
  });

}).call(this);
